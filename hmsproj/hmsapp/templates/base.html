{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>{% block title %}Medicio{% endblock %}</title>
  <meta name="description" content="">
  <meta name="keywords" content="">

  <!-- Favicons -->
  <link href="{% static 'images/favicon.png' %}" rel="icon">
  <link href="{% static 'images/apple-touch-icon.png' %}" rel="apple-touch-icon">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900&family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900&display=swap" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="{% static 'vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
  <link href="{% static 'vendor/bootstrap-icons/bootstrap-icons.css' %}" rel="stylesheet">
  <link href="{% static 'vendor/aos/aos.css' %}" rel="stylesheet">
  <link href="{% static 'vendor/fontawesome-free/css/all.min.css' %}" rel="stylesheet">
  <link href="{% static 'vendor/glightbox/css/glightbox.min.css' %}" rel="stylesheet">
  <link href="{% static 'vendor/swiper/swiper-bundle.min.css' %}" rel="stylesheet">

  <!-- Main CSS File -->
  <link href="{% static 'css/main.css' %}" rel="stylesheet">

  <!-- Add this right after the main CSS link -->
  <style>
    :root {
      /* Admin theme colors */
      --primary-color: #79aec8;
      --primary-fg: #fff;
      --body-bg: #fff;
      --body-quiet-color: #666;
      --body-loud-color: #000;
      --header-color: #417690;
      --header-branding-color: var(--accent-fg);
      --header-bg: var(--secondary);
      --header-link-color: var(--primary-fg);
      --breadcrumbs-fg: #c4dce8;
      --breadcrumbs-link-fg: var(--body-bg);
      --breadcrumbs-bg: var(--primary);
      --link-fg: #447e9b;
      --link-hover-color: #036;
      --link-selected-fg: #5b80b2;
      --button-fg: #fff;
      --button-bg: var(--primary);
      --button-hover-bg: #609ab6;
      --default-button-bg: var(--secondary);
      --default-button-hover-bg: #205067;
      --close-button-bg: #888;
      --close-button-hover-bg: #747474;
      --delete-button-bg: #ba2121;
      --delete-button-hover-bg: #a41515;
      --object-tools-fg: var(--button-fg);
      --object-tools-bg: var(--close-button-bg);
      --object-tools-hover-bg: var(--close-button-hover-bg);
    }

    /* Apply admin theme */
    body {
      background: var(--body-bg);
      color: var(--body-quiet-color);
    }

    .header {
      background: var(--header-color) !important;
    }

    .branding {
      background: var(--body-bg);
      box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
    }

    .topbar {
      background: var(--header-color);
      color: var(--primary-fg);
    }

    .cta-btn {
      background: var(--button-bg) !important;
      color: var(--button-fg) !important;
      transition: all 0.3s ease;
      padding: 8px 20px !important;
      border-radius: 50px !important;
      text-decoration: none;
      font-weight: 500;
      font-size: 14px;
      letter-spacing: 1px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      white-space: nowrap;
      border: 2px solid var(--button-bg) !important;
      box-shadow: 0 2px 6px rgba(65, 118, 144, 0.2);
    }

    .cta-btn:hover {
      background: var(--button-hover-bg) !important;
      border-color: var(--button-hover-bg) !important;
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(65, 118, 144, 0.3);
    }

    /* Add specific styles for the header CTA button */
    .header .cta-btn {
      margin-left: 20px;
      background: var(--header-color) !important;
      color: var(--primary-fg) !important;
      border-color: var(--primary-fg) !important;
    }

    .header .cta-btn:hover {
      background: var(--primary-fg) !important;
      color: var(--header-color) !important;
    }

    .section-title h2 {
      color: var(--header-color);
    }

    .nav-link {
      color: var(--link-fg) !important;
    }

    .nav-link:hover,
    .nav-link.active {
      color: var(--link-hover-color) !important;
    }

    .footer {
      background: var(--header-color);
      color: var(--primary-fg);
    }

    .footer a {
      color: var(--breadcrumbs-fg);
    }

    .footer a:hover {
      color: var(--primary-fg);
    }

    /* Style form elements */
    .form-control {
      border: 1px solid var(--primary-color);
    }

    .form-control:focus {
      border-color: var(--link-selected-fg);
      box-shadow: 0 0 0 0.2rem rgba(91, 128, 178, 0.25);
    }

    /* Style buttons */
    .btn-primary {
      background: var(--button-bg);
      border-color: var(--button-bg);
    }

    .btn-primary:hover {
      background: var(--button-hover-bg);
      border-color: var(--button-hover-bg);
    }

    /* Style cards and sections */
    .service-item,
    .team-member,
    .testimonial-item {
      background: var(--body-bg);
      border: 1px solid var(--primary-color);
    }

    /* Style alerts */
    .messages {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 1000;
      max-width: 350px;
      width: 100%;
    }
    .alert {
      margin-bottom: 10px;
      border: none;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      opacity: 0;
      transform: translateX(100%);
      animation: slideIn 0.5s forwards, fadeOut 0.5s 4.5s forwards;
      backdrop-filter: blur(10px);
    }
    .alert-success {
      background-color: rgba(40, 167, 69, 0.95);
      color: white;
    }
    .alert-info {
      background-color: rgba(23, 162, 184, 0.95);
      color: white;
    }
    .alert-warning {
      background-color: rgba(255, 193, 7, 0.95);
      color: #333;
    }
    .alert-danger {
      background-color: rgba(220, 53, 69, 0.95);
      color: white;
    }
    .alert .btn-close {
      filter: brightness(0) invert(1);
      opacity: 0.8;
    }
    .alert-warning .btn-close {
      filter: none;
      opacity: 0.5;
    }
    @keyframes slideIn {
      from {
        transform: translateX(100%);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }
    @keyframes fadeOut {
      from {
        opacity: 1;
        transform: translateX(0);
      }
      to {
        opacity: 0;
        transform: translateX(100%);
      }
    }

    /* Style navigation */
    .navmenu ul li a {
      color: var(--header-color) !important;
      font-weight: 500;
    }

    .navmenu ul li a:hover,
    .navmenu ul li a.active {
      color: var(--link-hover-color) !important;
    }

    /* Style section backgrounds */
    .light-background {
      background: var(--breadcrumbs-fg);
    }

    .accent-background {
      background: var(--header-color);
      color: var(--primary-fg);
    }

    /* Style dropdown menus */
    .navmenu .dropdown ul {
      background: var(--body-bg);
      box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
    }

    /* Ensure the sticky header stays on top */
    .sticky-top {
      z-index: 1000;
    }

    .testimonial-item {
      padding: 30px;
      margin: 20px;
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
    }

    /* Dark mode styles */
    [data-bs-theme="dark"] {
        color-scheme: dark;
    }

    [data-bs-theme="dark"] body {
        background-color: #212529;
        color: #e9ecef;
    }

    /* Table styles */
    [data-bs-theme="dark"] .table {
        background-color: #212529;
        color: #e9ecef;
        border-color: #495057;
    }

    [data-bs-theme="dark"] .table th,
    [data-bs-theme="dark"] .table td {
        color: #e9ecef;
        border-color: #495057;
    }

    [data-bs-theme="dark"] .table-striped > tbody > tr:nth-of-type(odd) {
        background-color: rgba(255, 255, 255, 0.05);
    }

    [data-bs-theme="dark"] .table-hover > tbody > tr:hover {
        background-color: rgba(255, 255, 255, 0.075);
    }

    /* Card styles */
    [data-bs-theme="dark"] .card {
        background-color: #2c3034;
        border-color: #495057;
    }

    /* Modal styles */
    [data-bs-theme="dark"] .modal-content {
        background-color: #2c3034;
        border-color: #495057;
    }

    /* Form styles */
    [data-bs-theme="dark"] input,
    [data-bs-theme="dark"] select,
    [data-bs-theme="dark"] textarea,
    [data-bs-theme="dark"] .form-control,
    [data-bs-theme="dark"] .form-select {
        background-color: #343a40;
        color: #e9ecef;
        border-color: #495057;
    }

    [data-bs-theme="dark"] .form-control:focus,
    [data-bs-theme="dark"] .form-select:focus {
        background-color: #3d444a;
        color: #e9ecef;
        border-color: #86b7fe;
    }

    /* Text and label styles */
    [data-bs-theme="dark"] .form-label,
    [data-bs-theme="dark"] .modal-title,
    [data-bs-theme="dark"] .card-title,
    [data-bs-theme="dark"] .h1, 
    [data-bs-theme="dark"] .h2, 
    [data-bs-theme="dark"] .h3,
    [data-bs-theme="dark"] .h4,
    [data-bs-theme="dark"] .h5,
    [data-bs-theme="dark"] .h6,
    [data-bs-theme="dark"] h1,
    [data-bs-theme="dark"] h2,
    [data-bs-theme="dark"] h3,
    [data-bs-theme="dark"] h4,
    [data-bs-theme="dark"] h5,
    [data-bs-theme="dark"] h6 {
        color: #e9ecef;
    }

    /* List group styles */
    [data-bs-theme="dark"] .list-group-item {
        background-color: #2c3034;
        border-color: #495057;
        color: #e9ecef;
    }

    /* Dropdown styles */
    [data-bs-theme="dark"] .dropdown-menu {
        background-color: #2c3034;
        border-color: #495057;
    }

    [data-bs-theme="dark"] .dropdown-item {
        color: #e9ecef;
    }

    [data-bs-theme="dark"] .dropdown-item:hover {
        background-color: #3d444a;
    }

    /* Alert styles */
    [data-bs-theme="dark"] .alert {
        border-color: #495057;
    }

    /* Badge styles */
    [data-bs-theme="dark"] .badge {
        border-color: #495057;
    }
  </style>


  {% block extra_css %}{% endblock %}
</head>

<body class="{% block bodyclass %}{% endblock %}">

  <!-- Add this right after the opening <body> tag -->
  <div class="theme-toggle position-fixed" style="top: 20px; right: 20px; z-index: 1000;">
      <button class="btn btn-outline-primary rounded-circle" id="themeToggle" onclick="toggleTheme()">
          <i class="bi bi-moon-fill"></i>
      </button>
  </div>

  {% if messages %}
  <div class="messages">
      {% for message in messages %}
      <div class="alert alert-{% if message.tags %}{{ message.tags }}{% endif %} alert-dismissible fade show" role="alert">
          {{ message }}
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
      {% endfor %}
  </div>
  {% endif %}

  <!-- Header -->
  <header id="header" class="header sticky-top">
    <div class="topbar d-flex align-items-center">
      <div class="container d-flex justify-content-center justify-content-md-between">
        <div class="d-none d-md-flex align-items-center">
          <i class="bi bi-clock me-1"></i> Monday - Saturday, 8AM to 10PM
        </div>
        <div class="d-flex align-items-center">
          <i class="bi bi-phone me-1"></i> Call us now +1 5589 55488 55
        </div>
      </div>
    </div>

    <div class="branding d-flex align-items-center">
      <div class="container position-relative d-flex align-items-center justify-content-end">
        <a href="{% url 'home' %}" class="logo d-flex align-items-center me-auto">
          <img src="{% static 'img/logo.png' %}" alt="logo.png">
        </a>

        <nav id="navmenu" class="navmenu">
          <ul>
            <li><a href="{% url 'home' %}" class="active">Home</a></li>
            <li><a href="{% url 'home' %}#about">About</a></li>
            <li><a href="{% url 'home' %}#services">Services</a></li>
            <li><a href="{% url 'home' %}#departments">Departments</a></li>
            <li><a href="{% url 'home' %}#doctors">Doctors</a></li>
            <li><a href="{% url 'home' %}#contact">Contact</a></li>
          </ul>
          <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
        </nav>

        <a class="cta-btn" href="{% url 'home' %}#appointment">Make an Appointment</a>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="main">
    {% block content %}{% endblock %}
  </main>

  <!-- Footer -->
  <footer id="footer" class="footer light-background">
    <div class="container footer-top">
      <div class="row gy-4">
        <div class="col-lg-4 col-md-6 footer-about">
          <a href="{% url 'home' %}" class="logo d-flex align-items-center">
            <span class="sitename">Medicio</span>
          </a>
          <div class="footer-contact pt-3">
            <p>Maleppally Rd, Thrikkakara</p>
            <p>Kakkanad, Kerala 682021</p>
            <p class="mt-3"><strong>Phone:</strong> <span>+1 5589 55488 55</span></p>
            <p><strong>Email:</strong> <span>info@medic.io</span></p>
          </div>
          <div class="social-links d-flex mt-4">
            <a href=""><i class="bi bi-twitter-x"></i></a>
            <a href=""><i class="bi bi-facebook"></i></a>
            <a href=""><i class="bi bi-instagram"></i></a>
            <a href=""><i class="bi bi-linkedin"></i></a>
          </div>
        </div>

        <div class="col-lg-2 col-md-3 footer-links">
          <h4>Useful Links</h4>
          <ul>
            <li><a href="{% url 'home' %}">Home</a></li>
            <li><a href="{% url 'home' %}#about">About us</a></li>
            <li><a href="{% url 'home' %}#services">Services</a></li>
            <li><a href="{% url 'terms_conditions' %}">Terms of service</a></li>
            <li><a href="{% url 'privacy_policy' %}">Privacy policy</a></li>
          </ul>
        </div>

        <div class="col-lg-2 col-md-3 footer-links">
          <h4>Our Services</h4>
          <ul>
            <li><a href="{% url 'home' %}#services">Cardiology</a></li>
            <li><a href="{% url 'home' %}#services">Neurology</a></li>
            <li><a href="{% url 'home' %}#services">Hepatology</a></li>
            <li><a href="{% url 'home' %}#services">Pediatrics</a></li>
            <li><a href="{% url 'home' %}#services">Ophthalmology</a></li>
          </ul>
        </div>

        <div class="col-lg-4 col-md-6 footer-newsletter">
          <h4>Join Our Newsletter</h4>
          <p>Subscribe to receive updates about our services, health tips, and community events</p>
          <form action="" method="post">
            {% csrf_token %}
            <input type="email" name="email"><input type="submit" value="Subscribe">
          </form>
        </div>
      </div>
    </div>

    <div class="container copyright text-center mt-4">
      <p>© <span>Copyright</span> <strong class="px-1 sitename">Medicio</strong> <span>All Rights Reserved</span></p>
      <div class="credits">
        Created by <a href="https://www.linkedin.com/in/immanualfelex/" style="color: #666;">Immanual Felex Shalu</a>
        <span class="mx-2">|</span>
        <a href="{% url 'login' %}" style="font-size: 0.9em; color: #666;">Staff Portal</a>
      </div>
    </div>
  </footer>

  <!-- Scroll Top -->
  <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="{% static 'vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
  <script src="{% static 'vendor/php-email-form/validate.js' %}"></script>
  <script src="{% static 'vendor/aos/aos.js' %}"></script>
  <script src="{% static 'vendor/glightbox/js/glightbox.min.js' %}"></script>
  <script src="{% static 'vendor/purecounter/purecounter_vanilla.js' %}"></script>
  <script src="{% static 'vendor/swiper/swiper-bundle.min.js' %}"></script>

  <!-- Main JS File -->
  <script src="{% static 'js/main.js' %}"></script>

  <!-- Form Handler -->
  <script src="{% static 'js/form-handler.js' %}"></script>

  <!-- Alert Handler -->
  <script>
    // Auto-hide alerts after 5 seconds and handle manual dismissal
    document.addEventListener('DOMContentLoaded', function() {
        // Auto-hide alerts
        setTimeout(function() {
            var alerts = document.querySelectorAll('.alert');
            alerts.forEach(function(alert) {
                var bsAlert = new bootstrap.Alert(alert);
                setTimeout(() => {
                    bsAlert.close();
                }, 500); // Small delay to let the fadeOut animation complete
            });
        }, 5000);

        // Handle manual dismissal with animation
        document.querySelectorAll('.alert .btn-close').forEach(function(button) {
            button.addEventListener('click', function(e) {
                e.preventDefault();
                const alert = this.closest('.alert');
                alert.style.animation = 'fadeOut 0.5s forwards';
                setTimeout(() => {
                    var bsAlert = new bootstrap.Alert(alert);
                    bsAlert.close();
                }, 500);
            });
        });
    });
  </script>

  <!-- Add this right before the closing </body> tag -->
  <script>
    function toggleTheme() {
        const body = document.body;
        const themeToggle = document.getElementById('themeToggle');
        const icon = themeToggle.querySelector('i');
        
        body.classList.toggle('dark-mode');
        
        // Update icon
        if (body.classList.contains('dark-mode')) {
            icon.classList.remove('bi-moon-fill');
            icon.classList.add('bi-sun-fill');
            localStorage.setItem('theme', 'dark');
        } else {
            icon.classList.remove('bi-sun-fill');
            icon.classList.add('bi-moon-fill');
            localStorage.setItem('theme', 'light');
        }
    }

    // Check for saved theme preference
    document.addEventListener('DOMContentLoaded', function() {
        const savedTheme = localStorage.getItem('theme');
        const themeToggle = document.getElementById('themeToggle');
        const icon = themeToggle.querySelector('i');
        
        if (savedTheme === 'dark') {
            document.body.classList.add('dark-mode');
            icon.classList.remove('bi-moon-fill');
            icon.classList.add('bi-sun-fill');
        }
    });
  </script>

  {% block extra_js %}{% endblock %}

</body>
</html> 